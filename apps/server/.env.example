# ============================================================================
# FIRMA HUKUM PERARI - Environment Variables Template
# ============================================================================
# Copy this file to .env and fill in the values
# cp .env.example .env
# ============================================================================

# ============================================================================
# üî¥ ENVIRONMENT
# ============================================================================
NODE_ENV=development
# Options: development | staging | production

# ============================================================================
# üî¥ APPLICATION
# ============================================================================
PORT=3000
API_PREFIX=api/v1
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3001

# ============================================================================
# üî¥ DATABASE (Supabase PostgreSQL)
# ============================================================================
# Connection Pooling URL (for API requests - uses PgBouncer)
DATABASE_URL="postgresql://postgres.xxxxx:[PASSWORD]@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct Connection URL (for migrations - direct to PostgreSQL)
DIRECT_URL="postgresql://postgres.xxxxx:[PASSWORD]@aws-0-ap-southeast-1.pooler.supabase.com:5432/postgres"

# ============================================================================
# üî¥ REDIS CACHE (Upstash)
# ============================================================================
# For Upstash Redis (Production)
REDIS_URL="rediss://default:[PASSWORD]@xxxxx.upstash.io:6379"

# For Local Redis (Development)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
# REDIS_TTL=3600
# REDIS_KEY_PREFIX=firma

# Cache Settings
CACHE_COMPRESSION_ENABLED=true
CACHE_COMPRESSION_THRESHOLD=1024
CACHE_WARMING_ENABLED=true
CACHE_WARMING_ON_STARTUP=true

# ============================================================================
# üî¥ JWT AUTHENTICATION
# ============================================================================
# ‚ö†Ô∏è GENERATE STRONG SECRETS: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-CHANGE-THIS
JWT_EXPIRES_IN=7d

JWT_REFRESH_SECRET=your-super-secret-refresh-key-min-32-chars-CHANGE-THIS
JWT_REFRESH_EXPIRES_IN=30d

# ============================================================================
# üî¥ CORS (Cross-Origin Resource Sharing)
# ============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3001,http://localhost:3000,https://your-frontend.vercel.app

# ============================================================================
# üî¥ LOGGING
# ============================================================================
LOG_LEVEL=info
# Options: error | warn | info | debug | verbose

LOG_CONSOLE=true
LOG_FILE=true
LOG_DIRECTORY=./logs

# ============================================================================
# üî¥ MONITORING (Prometheus + Grafana)
# ============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_ENDPOINT=/metrics

# ============================================================================
# üî¥ EMAIL SERVICE (Optional - for notifications)
# ============================================================================
# Gmail SMTP Example
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password
EMAIL_FROM=Law Firm System <noreply@perari.id>

# SendGrid Example (Alternative)
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_PORT=587
# EMAIL_USER=apikey
# EMAIL_PASSWORD=your-sendgrid-api-key

# Mailtrap Example (Development/Testing)
# EMAIL_HOST=smtp.mailtrap.io
# EMAIL_PORT=2525
# EMAIL_USER=your-mailtrap-username
# EMAIL_PASSWORD=your-mailtrap-password

# ============================================================================
# üî¥ FILE STORAGE
# ============================================================================
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760
# 10485760 bytes = 10MB

# Allowed file extensions (comma-separated)
ALLOWED_EXTENSIONS=.pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png

# ============================================================================
# üî¥ GOOGLE DRIVE API (Document Storage) - CHOOSE ONE METHOD
# ============================================================================

# ‚úÖ METHOD 1: OAuth (RECOMMENDED - Works with FREE Google Drive!)
# Uses admin's personal Google Drive (15GB free quota)
# All users upload to centralized admin Drive
# Setup: See GOOGLE_DRIVE_OAUTH_SETUP.md

GOOGLE_OAUTH_CLIENT_ID=your-oauth-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=your-oauth-client-secret
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:3000/api/v1/google-drive/oauth/callback
GOOGLE_OAUTH_REFRESH_TOKEN=your-refresh-token-from-authorization

# Optional: Folder ID to organize documents (create folder in your Drive first)
GOOGLE_DRIVE_ROOT_FOLDER_ID=

# ‚ùå METHOD 2: Service Account (LEGACY - Requires Google Workspace $6/month)
# Only works with Google Workspace Shared Drives or shared folders
# Free Google Drive does NOT support service account uploads

# GOOGLE_DRIVE_CREDENTIALS='{"type":"service_account","project_id":"your-project-id","private_key_id":"xxx","private_key":"-----BEGIN PRIVATE KEY-----\nxxx\n-----END PRIVATE KEY-----\n","client_email":"your-service-account@your-project.iam.gserviceaccount.com","client_id":"xxx","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"xxx"}'

# ============================================================================
# üî¥ RATE LIMITING (Optional)
# ============================================================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ============================================================================
# üî¥ SESSION (Optional)
# ============================================================================
SESSION_SECRET=your-session-secret-key-min-32-chars-CHANGE-THIS

# ============================================================================
# üî¥ TIMEZONE
# ============================================================================
TZ=Asia/Jakarta

# ============================================================================
# üî¥ PRODUCTION ENVIRONMENT VARIABLES (Railway/Vercel/Heroku)
# ============================================================================
# These are automatically injected by hosting platforms:
# - Railway: ${{RAILWAY_PUBLIC_DOMAIN}}
# - Vercel: ${{VERCEL_URL}}
# - Heroku: ${{HEROKU_APP_NAME}}

# ============================================================================
# üî¥ FEATURE FLAGS (Optional)
# ============================================================================
ENABLE_SWAGGER=true
ENABLE_GRAPHQL=false
ENABLE_RATE_LIMITING=true
ENABLE_HELMET=true
ENABLE_COMPRESSION=true

# ============================================================================
# üî¥ DATABASE CONNECTION POOL (Advanced)
# ============================================================================
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_TIMEOUT=30000

# ============================================================================
# üî¥ NOTES FOR PRODUCTION:
# ============================================================================
# 1. Generate strong JWT secrets:
#    openssl rand -base64 32
#
# 2. Use environment-specific values:
#    - Development: localhost URLs
#    - Staging: staging URLs
#    - Production: production URLs
#
# 3. Never commit .env files to Git!
#    Always use .env.example as template
#
# 4. For Railway deployment:
#    Copy these values to Railway Dashboard > Settings > Environment Variables
#
# 5. For Supabase:
#    Get DATABASE_URL and DIRECT_URL from:
#    Supabase Dashboard > Settings > Database > Connection String
#
# 6. For Upstash Redis:
#    Get REDIS_URL from:
#    Upstash Console > Your Database > Details > REST API
#
# ============================================================================